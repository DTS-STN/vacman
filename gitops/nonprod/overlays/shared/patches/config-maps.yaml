#
# NONPROD SENTINEL CUSTOM CONFIG PATCH
#
# Configures Sentinel custom settings for nonprod.
#
# This patch overrides the base custom configuration with nonprod-specific settings:
#   - Monitor the redis-0.redis-headless with quorum 1
#

apiVersion: v1
kind: ConfigMap
metadata:
  name: sentinel-custom-config
data:
  sentinel-custom.conf: |
    # The monitor line points Sentinel at the master pod in this overlay.
    # Format: sentinel monitor <name> <host> <port> <quorum>
    # We patch this per-overlay so Sentinel watches the correct pod DNS
    # (e.g. redis-0.redis-headless).
    sentinel monitor mymaster redis-0.redis-headless 6379 1
